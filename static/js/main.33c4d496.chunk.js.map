{"version":3,"sources":["containers/app/common/LoadingContext.js","components/Divider.js","components/Typo.js","components/Link.js","containers/app/login/SignInButton.js","resources/logo.png","containers/app/PageTemplate.js","containers/ContactPage.js","app/config.js","app/resolvers/auth.js","app/utils/devLogger.js","app/resolvers/tasks.js","app/schema.js","app/apollo.js","containers/app/providers/CustomApolloProvider.js","queries/loginQueries.js","containers/app/login/LoginRedirect.js","resources/demo-min.png","containers/IndexPage.js","resources/icon_google.svg","containers/app/login/LoginForm.js","containers/LoginPage.js","containers/NotFoundPage.js","containers/app/common/LoadableMutation.js","queries/taskListsQueries.js","app/optimisticCache.js","queries/taskMutations.js","components/DefaultError.js","containers/app/common/GlobalLoadingIndicator.js","containers/app/common/LoadableQuery.js","queries/taskQueries.js","queries/taskHelpers.js","components/CompletedCheckbox.js","components/DateTimePicker.js","containers/app/taskLists/TaskListSelect.js","containers/app/tasks/TaskForm.js","containers/app/login/LogoutButton.js","components/ErrorBoundary.js","app/utils/storageUtils.js","queries/taskListsMutations.js","components/FabButton.js","containers/app/taskLists/AddTaskListButton.js","containers/app/taskLists/DeleteListDialog.js","containers/app/taskLists/RenameListDialog.js","containers/app/taskLists/ListSidebarContextMenu.js","containers/app/taskLists/SidebarTaskListItem.js","containers/app/Sidebar.js","containers/app/Template.js","components/ToolbarButton.js","containers/TaskDetailPage.js","components/DraggableList.js","containers/app/tasks/DropTaskContainer.js","containers/app/tasks/ListActionsToolbar.js","containers/app/tasks/ListContextMenu.js","app/utils/textUtils.js","containers/app/tasks/TaskItem.js","containers/TasksPage.js","containers/TermsPage.js","App.js","index.js","app/gclient.js"],"names":["LoadingConext","React","createContext","LoadingContextProvider","state","loading","putLoading","setState","clearLoading","Provider","value","this","props","Component","Divider","size","horizontal","style","width","height","Header","children","Typography","variant","textAlign","SubHeader","Paragraph","paragraph","link","to","forwardRef","ref","TaskDetailLink","listId","id","TaskListLink","WelcomeLink","ContactLink","TermsLink","LoginLink","SignInButton","Button","color","component","FooterItem","label","target","other","theme","useTheme","LinkComponent","isObject","marginRight","href","palette","primary","main","textDecoration","PageTemplate","index","typography","h1","fontSize","h2","h3","ThemeProvider","minHeight","display","flexDirection","padding","paddingBottom","justifyContent","alt","className","src","logo","flex","IconButton","margin","float","rel","ContactPage","config","gapiKey","process","REACT_APP_GAPI_KEY","gapiClientId","REACT_APP_REACT_APP_GAPI_CLINET_ID","loadPromise","Promise","resolve","reject","gapi","load","client","init","apiKey","clientId","scope","then","catch","SIGNED_IN_USER","isSignedIn","SIGNED_OUT_USER","a","auth2","getAuthInstance","signIn","console","error","signOut","authResolvers","Query","currentUser","get","Mutation","login","logout","log","updateTaskPromises","fetchResult","path","method","body","payload","request","response","result","doPut","doPost","doDelete","fetchItems","items","getTasks","tasks","sort","b","position","localeCompare","getList","getTask","createTask","task","deleteTask","updateTask","promises","promise","push","clearCompleted","all","moveTask","previousId","moveToList","targetListId","movedTask","pick","tasksResolvers","taskLists","taskList","_","addList","title","deleteList","editList","updateList","notes","status","due","addTask","schema","makeExecutableSchema","typeDefs","resolvers","merge","makeErrorLink","showError","onError","graphQLErrors","networkError","handleError","msg","map","message","locations","cache","InMemoryCache","persistCache","storage","LocalStorageWrapper","window","localStorage","debounce","defaultOptions","watchQuery","fetchPolicy","query","withSnackbar","enqueueSnackbar","closeSnackbar","useState","setClient","useEffect","ApolloLink","from","SchemaLink","ApolloClient","makeApolloClient","action","key","onClick","CURRENT_USER","gql","Postponed","delay","show","setShow","timeout","setTimeout","clearTimeout","LoginRedirect","shouldRedirect","data","Section","IndexPage","alignItems","maxWidth","border","demo","iconStyle","left","top","GoogleIcon","googleIcon","LoginButton","mutation","textTransform","paddingLeft","LoginForm","LoginPage","NotFoundPage","LoadableMutation","useContext","mutate","err","TASK_LIST","MINIMAL_TASK_LISTS","taskOptimisticKeys","taskOptimisticIds","isTaskOptimistic","taskId","withMoveToListMutation","UPDATE_TASK","withUpdateTaskMutation","ADD_TASK","DELETE_TASK","CLEAR_COMPLETED","DELETE_LIST","EDIT_LIST","useAddTask","useMutation","variables","optimisticId","Date","now","makeTaskOptimisticId","optimisticResponse","__typename","update","proxy","readQuery","storeTaskOptimisticId","unshift","writeQuery","DefaultError","GlobalLoadingIndicator","LoadableQuery","TASK","updateTaskFn","useUpdateTaskEffect","shouldUpdate","setShouldUpdate","throttledUpdate","setThrottledUpdate","throttled","throttle","leading","call","optimistic","mutateMoveToList","filter","t","awaitRefetchQueries","refetchQueries","withCheckboxStyles","withStyles","root","grey","setStatus","checked","Checkbox","DateTimePicker","isoDate","onChange","TextField","type","substring","e","localDate","TaskListSelect","Select","MenuItem","useStyles","makeStyles","textField","shortInput","compose","withRouter","history","setTitle","setNotes","setDue","list","setList","classes","multiline","rows","rowsMax","FormControlLabel","control","edge","disableRipple","marginLeft","FormHelperText","InputLabelProps","shrink","LogoutButton","aria-label","clearStore","ErrorBoundary","info","LAST_LIST_STORAGE_KEY","ADD_LIST","fab","spacing","extendedIcon","FabButton","Icon","Fab","open","setOpen","handleClickOpen","handleCancel","AddIcon","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","autoFocus","fullWidth","disabled","DialogActions","DeleteListDialog","RenameListDialog","ListSidebarContextMenu","anchorEl","handleActionsClose","renameOpen","setRenameOpen","deleteOpen","setDeleteOpen","Boolean","hackToPreventIdCollisions","SidebarTaskListItem","handleActionsClick","selected","droppableId","provided","snapshot","innerRef","visibility","placeholder","ListItem","cursor","backgroundColor","isDraggingOver","undefined","button","ListItemText","ListItemSecondaryAction","prefetched","isSelected","match","params","initialListPath","lastListId","getItem","ignore","loadFromLocalStorage","find","l","setAnchorEl","event","currentTarget","isUnknown","forEach","List","ListSubheader","drawerWidth","drawer","breakpoints","up","flexShrink","appBar","menuButton","toolbar","mixins","userToolbar","drawerPaper","content","flexGrow","withAuthRedirect","right","container","mobileOpen","setMobileOpen","handleDrawerToggle","CssBaseline","AppBar","Toolbar","noWrap","Hidden","smUp","implementation","Drawer","anchor","direction","paper","ModalProps","keepMounted","xsDown","LinearProgress","ToolbarButton","TaskDetailPage","BackIcon","DeleteIcon","icon","marginTop","DraggableList","RootRef","rootRef","item","draggableId","isDragDisabled","dragDisabled","draggableProps","isDragging","draggableStyle","background","bottom","dragHandleProps","tabIndex","onDragEnd","destination","startIndex","endIndex","Array","splice","removed","reorder","source","prevIndex","findIndex","split","ListActionsToolbar","useClearCompleted","ClearCompletedIcon","ListContextMenu","onRefresh","maxLetters","completedInput","shortenNotes","text","length","inputRef","useRef","current","focus","isOptimistic","ListItemIcon","onKeyPress","ev","InputProps","disableUnderline","input","secondary","UpdateStore","NoListSelected","SetRefreshingToFalse","setRefreshing","refreshing","AutoAddTask","TasksPage","setItem","saveToLocalStorage","refetch","loaded","initialLoading","idx","TermsPage","App","basename","exact","rootEl","document","getElementById","ReactDOM","render","global"],"mappings":"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","file":"static/js/main.33c4d496.chunk.js","sourcesContent":["import React from 'react'\n\nexport const LoadingConext = React.createContext()\n\nexport class LoadingContextProvider extends React.Component {\n  state = { loading: 0 }\n  putLoading = () => this.setState((state) => ({ loading: state.loading + 1 }))\n  clearLoading = () =>\n    this.setState((state) => ({ loading: state.loading - 1 }))\n  render() {\n    return (\n      <LoadingConext.Provider\n        value={{\n          loading: this.state.loading,\n          putLoading: this.putLoading,\n          clearLoading: this.clearLoading,\n        }}\n        {...this.props}\n      />\n    )\n  }\n}\n","import React from 'react'\n\nexport const Divider = ({ size, horizontal }) =>\n  horizontal ? (\n    <div style={{ width: size }} />\n  ) : (\n    <div style={{ height: size, width: '100%' }} />\n  )\n","import React from 'react'\nimport Typography from '@material-ui/core/Typography'\n\nimport { Divider } from '../components/Divider'\n\nexport const Header = ({ children }) => (\n  <>\n    <Typography variant=\"h1\" style={{ textAlign: 'center' }}>\n      {children}\n    </Typography>\n    <Divider size={50} />\n  </>\n)\n\nexport const SubHeader = ({ children }) => (\n  <>\n    <Typography variant=\"h2\">{children}</Typography>\n    <Divider size={20} />\n  </>\n)\n\nexport const Paragraph = ({ children }) => (\n  <Typography paragraph>{children}</Typography>\n)\n","import { Link } from 'react-router-dom'\nimport React from 'react'\n\nexport function link(to) {\n  const RouteLink = React.forwardRef((props, ref) => (\n    <Link to={to} {...props} ref={ref} />\n  ))\n  return RouteLink\n}\n\nexport const TaskDetailLink = (listId, id) =>\n  link(`/app/list/${listId}/task/${id}`)\nexport const TaskListLink = (id) => link(`/app/list/${id}`)\nexport const WelcomeLink = link('/')\nexport const ContactLink = link('/contact')\nexport const TermsLink = link('/privacy')\nexport const LoginLink = link('/login')\n","import Button from '@material-ui/core/Button'\nimport React from 'react'\n\nimport { LoginLink } from '../../../components/Link'\n\nfunction SignInButton() {\n  return (\n    <Button color=\"primary\" component={LoginLink}>\n      Sign in\n    </Button>\n  )\n}\n\nexport default SignInButton\n","export default \"data:image/png;base64,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\"","import { isObject } from 'lodash'\nimport { useTheme } from '@material-ui/core/styles'\nimport BackIcon from '@material-ui/icons/ArrowBack'\nimport IconButton from '@material-ui/core/IconButton'\nimport React from 'react'\nimport Typography from '@material-ui/core/Typography'\n\nimport { ThemeProvider } from '@material-ui/styles'\n\nimport { ContactLink, TermsLink, WelcomeLink } from '../../components/Link'\nimport { Divider } from '../../components/Divider'\nimport SignInButton from './login/SignInButton'\nimport logo from '../../resources/logo.png'\n\nfunction FooterItem({ label, link, target = '_self', ...other }) {\n  const theme = useTheme()\n  const LinkComponent = isObject(link) ? link : 'a'\n  return (\n    <span\n      style={{\n        marginRight: 15,\n      }}\n    >\n      <LinkComponent\n        href={link}\n        target={target}\n        style={{\n          color: theme.palette.primary.main,\n          textDecoration: 'none',\n        }}\n        {...other}\n      >\n        {label}\n      </LinkComponent>\n    </span>\n  )\n}\n\nexport default function PageTemplate({ children, index, ...other }) {\n  const theme = useTheme()\n  theme.typography.h1.fontSize = '3.75rem'\n  theme.typography.h2.fontSize = '2.125rem'\n  theme.typography.h3.fontSize = '1.25rem'\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div\n        style={{\n          minHeight: '100vh',\n          display: 'flex',\n          flexDirection: 'column',\n        }}\n      >\n        <div\n          style={{\n            padding: 20,\n            paddingBottom: 0,\n            display: 'flex',\n            justifyContent: 'space-between',\n          }}\n        >\n          <a\n            href=\"https://madox2.github.io/another-tasks/\"\n            alt=\"home\"\n            className=\"nooutline\"\n          >\n            <img src={logo} style={{ height: 35 }} alt=\"logo\" />\n          </a>\n          <SignInButton />\n        </div>\n        <div style={{ flex: 1, padding: 20 }}>\n          {!index && (\n            <IconButton component={WelcomeLink}>\n              <BackIcon />\n            </IconButton>\n          )}\n          <Divider size={10} />\n          <div {...other}>{children}</div>\n        </div>\n        <footer style={{ padding: 20 }}>\n          <Typography paragraph style={{ margin: 0 }}>\n            <FooterItem label=\"Contact\" link={ContactLink} />\n            <FooterItem label=\"Privacy Policy\" link={TermsLink} />\n            <span style={{ float: 'right' }}>\n              <FooterItem\n                label=\"2019 madox2\"\n                link=\"https://madox2.poriadne.sk\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              />\n            </span>\n          </Typography>\n        </footer>\n      </div>\n    </ThemeProvider>\n  )\n}\n","import React from 'react'\n\nimport { Header, Paragraph } from '../components/Typo'\nimport PageTemplate from './app/PageTemplate'\n\nexport default function ContactPage() {\n  return (\n    <PageTemplate style={{ textAlign: 'center' }}>\n      <Header>Contact</Header>\n      <Paragraph>\n        Have you experienced a bug or do you have an improvement idea? Contact\n        me with any kind of feecback at:\n      </Paragraph>\n      <Paragraph>mx.bielik@gmail.com</Paragraph>\n    </PageTemplate>\n  )\n}\n","const config = {\n  gapiKey: process.env.REACT_APP_GAPI_KEY,\n  gapiClientId: process.env.REACT_APP_REACT_APP_GAPI_CLINET_ID,\n}\n\nexport default config\n","import { gapi } from '../gclient'\nimport config from '../config'\n\nexport const loadPromise = new Promise((resolve, reject) =>\n  gapi.load('client', () => {\n    gapi.client\n      .init({\n        apiKey: config.gapiKey,\n        clientId: config.gapiClientId,\n        scope: 'https://www.googleapis.com/auth/tasks',\n      })\n      .then(resolve)\n      .catch(reject)\n  }),\n)\n\nconst SIGNED_IN_USER = { isSignedIn: true, id: 'current' }\nconst SIGNED_OUT_USER = { isSignedIn: false, id: 'current' }\n\nasync function login() {\n  try {\n    await gapi.auth2.getAuthInstance().signIn()\n  } catch (e) {\n    console.error('login error', e)\n    return SIGNED_OUT_USER\n  }\n  return SIGNED_IN_USER\n}\n\nasync function logout() {\n  try {\n    await gapi.auth2.getAuthInstance().signOut()\n  } catch (e) {\n    console.error('logout error', e)\n  }\n  return SIGNED_OUT_USER\n}\n\nexport const authResolvers = {\n  Query: {\n    currentUser: async () => {\n      try {\n        await loadPromise\n        const isSignedIn = gapi.auth2.getAuthInstance().isSignedIn.get()\n        return isSignedIn ? SIGNED_IN_USER : SIGNED_OUT_USER\n      } catch (e) {\n        console.error('error loading google script', e)\n        return SIGNED_OUT_USER\n      }\n    },\n  },\n  Mutation: {\n    login,\n    logout,\n  },\n}\n","let logger = () => 0\nif (process.env.NODE_ENV === 'development') {\n  logger = console.log\n}\n\nexport const log = logger\n","import { pick } from 'lodash'\n\nimport { gapi } from '../gclient'\nimport { loadPromise } from './auth'\nimport { log } from '../utils/devLogger'\n\nlet updateTaskPromises = []\nfunction updatePromises(promises, promise) {\n  promises.push(promise)\n  return promise\n}\n\nasync function fetchResult(path, { method = 'GET', body } = {}) {\n  try {\n    await loadPromise\n    const payload = { path, method }\n    if (body) payload.body = body\n    log(`${method}: request:`, payload)\n    const response = await gapi.client.request(payload)\n    log(`${method}: response:`, response)\n    return response.result\n  } catch (e) {\n    log(`${method}: error fetching data ${path}`, e)\n    throw e\n  }\n}\n\nasync function doPut(path, body) {\n  return fetchResult(path, { body, method: 'PUT' })\n}\n\nasync function doPost(path, body) {\n  return fetchResult(path, { body, method: 'POST' })\n}\n\nasync function doDelete(path) {\n  return fetchResult(path, { method: 'DELETE' })\n}\n\nasync function fetchItems(path) {\n  const result = await fetchResult(path)\n  return (result && result.items) || []\n}\n\nconst getTasks = async (id) => {\n  const tasks = await fetchItems(\n    `https://www.googleapis.com/tasks/v1/lists/${id}/tasks`,\n  )\n  tasks.sort((a, b) => a.position.localeCompare(b.position))\n  return tasks\n}\n\nconst getList = async (id) => {\n  const result = await fetchResult(\n    `https://www.googleapis.com/tasks/v1/users/@me/lists/${id}`,\n  )\n  return {\n    ...result,\n    tasks: await getTasks(id),\n  }\n}\n\nconst getLists = () =>\n  fetchItems('https://www.googleapis.com/tasks/v1/users/@me/lists')\n\nconst getTask = (id, listId) =>\n  fetchResult(`https://www.googleapis.com/tasks/v1/lists/${listId}/tasks/${id}`)\n\nconst createTask = (listId, task) =>\n  doPost(`https://www.googleapis.com/tasks/v1/lists/${listId}/tasks`, task)\n\nconst deleteTask = (id, listId) =>\n  doDelete(`https://www.googleapis.com/tasks/v1/lists/${listId}/tasks/${id}`)\n\nconst updateTask = async (task) =>\n  await updatePromises(\n    updateTaskPromises,\n    doPut(\n      `https://www.googleapis.com/tasks/v1/lists/${task.listId}/tasks/${task.id}`,\n      task,\n    ),\n  )\n\nconst addList = (title) =>\n  doPost('https://www.googleapis.com/tasks/v1/users/@me/lists', { title })\n\nconst updateList = (listId, title) =>\n  doPut(`https://www.googleapis.com/tasks/v1/users/@me/lists/${listId}`, {\n    title,\n    id: listId,\n  })\n\nconst deleteList = (listId) =>\n  doDelete(`https://www.googleapis.com/tasks/v1/users/@me/lists/${listId}`)\n\nconst clearCompleted = async (listId) => {\n  await Promise.all(updateTaskPromises)\n  await doPost(`https://www.googleapis.com/tasks/v1/lists/${listId}/clear`)\n  return true\n}\n\nconst moveTask = async (id, previousId, listId) => {\n  if (previousId) {\n    await doPost(\n      `https://www.googleapis.com/tasks/v1/lists/${listId}/tasks/${id}/move?previous=${previousId}`,\n    )\n  } else {\n    await doPost(\n      `https://www.googleapis.com/tasks/v1/lists/${listId}/tasks/${id}/move`,\n    )\n  }\n  return true\n}\n\nconst moveToList = async (id, listId, targetListId) => {\n  const task = await getTask(id, listId)\n  const movedTask = pick(task, ['title', 'notes', 'due', 'status'])\n  await createTask(targetListId, movedTask)\n  await deleteTask(id, listId)\n  return true\n}\n\nexport const tasksResolvers = {\n  Query: {\n    taskLists: () => getLists(),\n    taskList: (_, { id }) => getList(id),\n    task: (_, { listId, id }) => getTask(id, listId),\n  },\n  Mutation: {\n    addList: (_, { title }) => addList(title),\n    deleteList: (_, { listId }) => deleteList(listId),\n    editList: (_, { listId, title }) => updateList(listId, title),\n    updateTask: (_, { title, notes, status, due, id, listId }) =>\n      updateTask({ title, notes, status, due, id, listId }),\n    addTask: (_, { listId }) => createTask(listId),\n    deleteTask: (_, { listId, id }) => deleteTask(id, listId),\n    clearCompleted: (_, { listId }) => clearCompleted(listId),\n    moveTask: (_, { listId, id, previousId }) =>\n      moveTask(id, previousId, listId),\n    moveToList: (_, { listId, id, targetListId }) =>\n      moveToList(id, listId, targetListId),\n  },\n}\n","import { merge } from 'lodash'\n\nimport { makeExecutableSchema } from 'graphql-tools'\n\nimport { authResolvers } from './resolvers/auth'\nimport { tasksResolvers } from './resolvers/tasks'\n\nconst typeDefs = `\n  type Link {\n    type: String\n    description: String\n    link: String\n  }\n  type Task {\n    id: String\n    etag: String\n    title: String\n    updated: String\n    selfLink: String\n    parent: String\n    position: String\n    notes: String\n    status: String\n    due: String\n    completed: String\n    deleted: String\n    hidden: String\n    links: [Link]\n  }\n  type TaskList {\n    kind: String\n    id: String\n    etag: String\n    title: String\n    selfLink: String\n    updated: String\n    tasks: [Task]\n  }\n  type User {\n    id: String!,\n    isSignedIn: Boolean!\n  }\n  type Query {\n    taskLists: [TaskList]\n    taskList(id: String!): TaskList\n    task(listId: String!, id: String!): Task\n    currentUser: User\n  }\n  type Mutation {\n    addList(title: String!): TaskList\n    deleteList(listId: String!): TaskList\n    editList(listId: String!, title: String): TaskList\n    addTask(listId: String!): Task\n    deleteTask(listId: String!, id: String!): Task\n    updateTask(\n      title: String\n      notes: String\n      due: String\n      status: String\n      id: String\n      listId: String\n    ): Task\n    moveTask(listId: String!, id: String!, previousId: String): Boolean\n    moveToList(listId: String!, id: String!, targetListId: String!): Boolean\n    logout: User\n    login: User\n    clearCompleted(listId: String): Boolean\n  }\n`\n\nexport const schema = makeExecutableSchema({\n  typeDefs,\n  resolvers: merge(tasksResolvers, authResolvers),\n})\n","import { InMemoryCache } from 'apollo-cache-inmemory'\nimport { SchemaLink } from 'apollo-link-schema'\n\nimport { ApolloClient } from 'apollo-client'\nimport { ApolloLink } from 'apollo-link'\nimport { onError } from 'apollo-link-error'\nimport { persistCache, LocalStorageWrapper } from 'apollo3-cache-persist'\n\nimport { schema } from './schema'\n\nconst makeErrorLink = ({ showError }) =>\n  onError((error) => {\n    const { graphQLErrors, networkError } = error\n    const handleError = (msg) => {\n      console.error(msg)\n      showError(msg)\n    }\n    if (graphQLErrors)\n      graphQLErrors.map(({ message, locations, path }) =>\n        handleError(\n          `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`,\n        ),\n      )\n\n    if (networkError) handleError(`[Network error]: ${networkError}`)\n  })\n\nconst cache = new InMemoryCache()\n\npersistCache({\n  cache,\n  storage: new LocalStorageWrapper(window.localStorage),\n  debounce: 500,\n})\n\nconst defaultOptions = {\n  watchQuery: {\n    fetchPolicy: 'cache-and-network',\n  },\n  query: {\n    fetchPolicy: 'network-only',\n  },\n}\n\nexport function makeApolloClient({ showError }) {\n  const link = ApolloLink.from([\n    makeErrorLink({ showError }),\n    new SchemaLink({ schema }),\n  ])\n  return new ApolloClient({\n    cache,\n    link,\n    defaultOptions,\n  })\n}\n","import { ApolloProvider } from 'react-apollo'\nimport Button from '@material-ui/core/Button'\nimport { withSnackbar } from 'notistack'\nimport React, { useEffect, useState } from 'react'\n\nimport { makeApolloClient } from '../../../app/apollo'\n\nfunction CustomApolloProvider({ enqueueSnackbar, closeSnackbar, ...props }) {\n  const [client, setClient] = useState(null)\n  useEffect(() => {\n    const showError = () =>\n      enqueueSnackbar('Oops something went wrong try again', {\n        variant: 'error',\n        action: (key) => (\n          <Button onClick={() => closeSnackbar(key)}>DISMISS</Button>\n        ),\n      })\n    setClient(makeApolloClient({ showError }))\n    // eslint-disable-next-line\n  }, [])\n  return client && <ApolloProvider client={client} {...props} />\n}\n\nexport default withSnackbar(CustomApolloProvider)\n","import { gql } from 'apollo-boost'\n\nexport const CURRENT_USER = gql`\n  query CurrentUser {\n    currentUser {\n      id\n      isSignedIn\n    }\n  }\n`\n","import { Query } from 'react-apollo'\nimport { Redirect } from 'react-router-dom'\nimport React, { useEffect, useState } from 'react'\n\nimport { CURRENT_USER } from '../../../queries/loginQueries'\n\nconst Postponed = ({ children, delay }) => {\n  const [show, setShow] = useState(false)\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setShow(true)\n    }, delay)\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, []) // eslint-disable-line\n  return show && children\n}\n\nexport default function LoginRedirect({ shouldRedirect = true, children }) {\n  return (\n    <Query query={CURRENT_USER}>\n      {({ loading, error, data }) => {\n        if (!shouldRedirect || error) {\n          return children\n        }\n        if (loading) return <Postponed delay={1500}>{children}</Postponed>\n        const isSignedIn = data.currentUser && data.currentUser.isSignedIn\n        if (!isSignedIn) {\n          return children\n        }\n        return <Redirect to=\"/app/\" />\n      }}\n    </Query>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/demo-min.5c7fa774.png\";","import { useTheme } from '@material-ui/core/styles'\nimport React from 'react'\n\nimport { ContactLink } from '../components/Link'\nimport { Divider } from '../components/Divider'\nimport { Header, Paragraph, SubHeader } from '../components/Typo'\nimport LoginRedirect from './app/login/LoginRedirect'\nimport PageTemplate from './app/PageTemplate'\nimport demo from '../resources/demo-min.png'\n\nconst Section = (props) => (\n  <div>\n    <SubHeader>{props.title}</SubHeader>\n    <Divider size={10} />\n    <Paragraph>{props.children}</Paragraph>\n    <Divider size={10} />\n  </div>\n)\n\nexport default function IndexPage() {\n  const theme = useTheme()\n  return (\n    <LoginRedirect shouldRedirect={true}>\n      <PageTemplate index>\n        <div\n          style={{\n            minHeight: '70vh',\n            width: '100%',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n          }}\n        >\n          <div style={{ maxWidth: 800, textAlign: 'center' }}>\n            <Header>Another Tasks</Header>\n\n            <Section title=\"Web interface for Google Tasks\">\n              Another Tasks is a simple TODO list application that uses Google\n              Tasks API to store the data. You can create and manage your tasks\n              here and they will be available in all google services like\n              calendar, etc.\n            </Section>\n\n            <div\n              style={{\n                margin: '50px 0',\n                border: '1px solid rgba(0, 0, 0, 0.1)',\n              }}\n            >\n              <img src={demo} alt=\"tasks demo\" style={{ width: '100%' }} />\n            </div>\n\n            <Section title=\"Motivation\">\n              As the Google shut down Canvas interface for Google Tasks in early\n              2019, they didn't provide any full-screen alternative for desktop\n              users. Therefore I have decided to create this web app for the\n              users that are missing the Canvas and don't feel confortable with\n              it's replacement (GMail task addon).\n            </Section>\n\n            <Section title=\"What's on the roadmap?\">\n              Some features are currently missing but planned to be added:\n              <p>\n                <ul\n                  style={{\n                    textAlign: 'left',\n                    display: 'inline-block',\n                    margin: 0,\n                    padding: 0,\n                  }}\n                >\n                  <li>Keyboard shortcuts + documentation</li>\n                  <li>Sorting tasks</li>\n                  <li>Subtasks support</li>\n                  <li>PWA</li>\n                </ul>\n              </p>\n              If you have experienced a bug or have any improvement ideas, don't\n              hesitate to{' '}\n              <ContactLink\n                style={{\n                  color: theme.palette.primary.main,\n                  textDecoration: 'none',\n                }}\n              >\n                contact\n              </ContactLink>{' '}\n              me.\n            </Section>\n          </div>\n        </div>\n      </PageTemplate>\n    </LoginRedirect>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/icon_google.aed778d8.svg\";","import { Mutation } from 'react-apollo'\nimport { gql } from 'apollo-boost'\nimport Button from '@material-ui/core/Button'\nimport React from 'react'\n\nimport googleIcon from '../../../resources/icon_google.svg'\n\nconst iconStyle = {\n  height: 40,\n  width: 'auto',\n  position: 'absolute',\n  left: 0,\n  top: -2,\n}\n\nconst GoogleIcon = () => <img src={googleIcon} alt=\"google\" style={iconStyle} />\n\nconst LoginButton = () => (\n  <Mutation\n    mutation={gql`\n      mutation Login {\n        login {\n          id\n          isSignedIn\n        }\n      }\n    `}\n  >\n    {(login, { data }) => {\n      return (\n        <Button onClick={() => login()} color=\"default\" variant=\"contained\">\n          <GoogleIcon />\n          <span\n            style={{\n              color: '#2d2d2d',\n              textTransform: 'none',\n              paddingLeft: 30,\n            }}\n          >\n            Sign in with Google\n          </span>\n        </Button>\n      )\n    }}\n  </Mutation>\n)\n\nfunction LoginForm() {\n  return (\n    <>\n      <LoginButton />\n    </>\n  )\n}\n\nexport default LoginForm\n","import React from 'react'\n\nimport { Header, Paragraph } from '../components/Typo'\nimport LoginForm from './app/login/LoginForm'\nimport LoginRedirect from './app/login/LoginRedirect'\nimport PageTemplate from './app/PageTemplate'\n\nexport default function LoginPage() {\n  return (\n    <LoginRedirect>\n      <PageTemplate style={{ textAlign: 'center' }}>\n        <Header>Sign in</Header>\n        <Paragraph>\n          In order to use Another Tasks, you need to authorize it with Google:\n        </Paragraph>\n\n        <LoginForm />\n      </PageTemplate>\n    </LoginRedirect>\n  )\n}\n","import React from 'react'\n\nimport { Header } from '../components/Typo'\nimport PageTemplate from './app/PageTemplate'\n\nexport default function NotFoundPage() {\n  return (\n    <PageTemplate>\n      <Header>Page not found</Header>\n    </PageTemplate>\n  )\n}\n","import { Mutation } from 'react-apollo'\nimport React, { useContext } from 'react'\n\nimport { LoadingConext } from './LoadingContext'\n\nexport function LoadableMutation(props) {\n  const { putLoading, clearLoading } = useContext(LoadingConext)\n  return (\n    <Mutation {...props}>\n      {(mutate, result) => {\n        const enhanced = (...args) => {\n          putLoading()\n          return mutate(...args)\n            .then((result) => {\n              clearLoading()\n              return result\n            })\n            .catch((err) => {\n              clearLoading()\n              throw err\n            })\n        }\n        return props.children(enhanced, result)\n      }}\n    </Mutation>\n  )\n}\n","import { gql } from 'apollo-boost'\n\nexport const TASK_LIST = gql`\n  query TaskList($id: String!) {\n    taskList(id: $id) {\n      id\n      title\n      tasks {\n        id\n        title\n        notes\n        due\n        status\n      }\n    }\n  }\n`\n\nexport const MINIMAL_TASK_LISTS = gql`\n  {\n    taskLists {\n      id\n      title\n    }\n  }\n`\n","const taskOptimisticKeys = {}\nconst taskOptimisticIds = {}\n\nexport const isTaskOptimistic = (taskId) => taskOptimisticIds[taskId]\n\nexport const makeTaskOptimisticId = () => {\n  const id = `${Date.now()}`\n  taskOptimisticIds[id] = true\n  return id\n}\n\nexport const storeTaskOptimisticId = (taskId, optimisticId) => {\n  taskOptimisticKeys[taskId] = optimisticId\n}\n\nexport const getTaskKey = (taskId) => taskOptimisticKeys[taskId] || taskId\n","import { Mutation, useMutation } from 'react-apollo'\nimport { gql } from 'apollo-boost'\nimport React from 'react'\n\nimport { LoadableMutation } from '../containers/app/common/LoadableMutation'\nimport { TASK_LIST } from './taskListsQueries'\nimport {\n  isTaskOptimistic,\n  makeTaskOptimisticId,\n  storeTaskOptimisticId,\n} from '../app/optimisticCache'\n\nexport const withMoveToListMutation = (Component) => (props) =>\n  (\n    <LoadableMutation\n      mutation={gql`\n        mutation MoveToList(\n          $id: String!\n          $listId: String!\n          $targetListId: String!\n        ) {\n          moveToList(id: $id, listId: $listId, targetListId: $targetListId)\n        }\n      `}\n    >\n      {(moveToList, { data }) => (\n        <Component {...props} moveToList={moveToList} />\n      )}\n    </LoadableMutation>\n  )\n\nconst UPDATE_TASK = gql`\n  mutation UpdateTask(\n    $title: String\n    $notes: String\n    $due: String\n    $status: String\n    $id: String\n    $listId: String\n  ) {\n    updateTask(\n      title: $title\n      notes: $notes\n      due: $due\n      id: $id\n      status: $status\n      listId: $listId\n    ) {\n      id\n      title\n      notes\n      due\n      status\n    }\n  }\n`\n\nexport const withUpdateTaskMutation = (Component) => (props) =>\n  (\n    <Mutation mutation={UPDATE_TASK}>\n      {(updateTask, { data }) => (\n        <Component {...props} updateTask={updateTask} />\n      )}\n    </Mutation>\n  )\n\nexport const ADD_TASK = gql`\n  mutation AddTask($listId: String!) {\n    addTask(listId: $listId) {\n      id\n      title\n      notes\n      due\n      status\n    }\n  }\n`\n\nexport const DELETE_TASK = gql`\n  mutation DeleteTask($listId: String!, $id: String!) {\n    deleteTask(listId: $listId, id: $id) {\n      id\n    }\n  }\n`\n\nexport const CLEAR_COMPLETED = gql`\n  mutation ClearCompleted($listId: String!) {\n    clearCompleted(listId: $listId)\n  }\n`\n\nexport const withMoveTaskMutation = (Component) => (props) =>\n  (\n    <Mutation\n      mutation={gql`\n        mutation MoveTask($id: String!, $previousId: String, $listId: String!) {\n          moveTask(id: $id, previousId: $previousId, listId: $listId)\n        }\n      `}\n    >\n      {(moveTask, { data }) => <Component {...props} moveTask={moveTask} />}\n    </Mutation>\n  )\n\nexport const DELETE_LIST = gql`\n  mutation DeleteList($listId: String!) {\n    deleteList(listId: $listId)\n  }\n`\n\nexport const EDIT_LIST = gql`\n  mutation EditList($listId: String!, $title: String) {\n    editList(listId: $listId, title: $title) {\n      id\n      title\n    }\n  }\n`\n\nexport function useAddTask({ listId }) {\n  const [addTask] = useMutation(ADD_TASK, {\n    variables: { listId },\n  })\n  const customAddTask = () => {\n    const optimisticId = makeTaskOptimisticId()\n    addTask({\n      optimisticResponse: {\n        __typename: 'Mutation',\n        addTask: {\n          id: optimisticId,\n          title: null,\n          notes: null,\n          due: null,\n          status: 'needsAction',\n          __typename: 'Task',\n        },\n      },\n      update: (proxy, { data: { addTask } }) => {\n        const data = proxy.readQuery({\n          query: TASK_LIST,\n          variables: { id: listId },\n        })\n        if (!isTaskOptimistic(addTask.id)) {\n          storeTaskOptimisticId(addTask.id, optimisticId)\n        }\n        data.taskList.tasks.unshift(addTask)\n        proxy.writeQuery({\n          query: TASK_LIST,\n          variables: { id: listId },\n          data,\n        })\n      },\n    })\n  }\n  return [customAddTask]\n}\n\nexport function useClearCompleted({ listId }) {\n  return useMutation(CLEAR_COMPLETED, {\n    variables: { listId },\n    optimisticResponse: { __typename: 'Mutation', clearCompleted: true },\n    update: (proxy, { data: { clearCompleted } }) => {\n      const data = proxy.readQuery({\n        query: TASK_LIST,\n        variables: { id: listId },\n      })\n      data.taskList.tasks = data.taskList.tasks.filter(\n        (t) => t.status !== 'completed',\n      )\n      proxy.writeQuery({\n        query: TASK_LIST,\n        variables: { id: listId },\n        data,\n      })\n    },\n  })\n}\n","import Typography from '@material-ui/core/Typography'\nimport React from 'react'\n\nexport default function DefaultError() {\n  return (\n    <div style={{ margin: 10 }}>\n      <Typography paragraph>Oops something went wrong try again</Typography>\n    </div>\n  )\n}\n","import { useContext, useEffect } from 'react'\n\nimport { LoadingConext } from './LoadingContext'\n\nexport default function GlobalLoadingIndicator() {\n  const { putLoading, clearLoading } = useContext(LoadingConext)\n  useEffect(() => {\n    putLoading()\n    return () => clearLoading()\n    // eslint-disable-next-line\n  }, [])\n  return null\n}\n","import { Query } from 'react-apollo'\nimport React from 'react'\n\nimport DefaultError from '../../../components/DefaultError'\nimport GlobalLoadingIndicator from './GlobalLoadingIndicator'\n\nexport function LoadableQuery(props) {\n  return (\n    <Query {...props}>\n      {(result) => {\n        if (result.loading) {\n          return (\n            <>\n              <GlobalLoadingIndicator />\n              {props.children(result)}\n            </>\n          )\n        }\n        if (result.error) {\n          return <DefaultError />\n        }\n        return props.children(result)\n      }}\n    </Query>\n  )\n}\n","import { gql } from 'apollo-boost'\n\nexport const TASK = gql`\n  query Task($listId: String!, $id: String!) {\n    task(listId: $listId, id: $id) {\n      id\n      title\n      notes\n      due\n      status\n    }\n  }\n`\n","import { throttle } from 'lodash'\nimport { useEffect, useState } from 'react'\n\nimport { TASK_LIST } from './taskListsQueries'\nimport { isTaskOptimistic } from '../app/optimisticCache'\n\nconst updateTaskFn = (updateTask, { title, notes, due, listId, id, status }) =>\n  updateTask({\n    variables: { title, notes, due, listId, id, status },\n    optimisticResponse: {\n      __typename: 'Mutation',\n      updateTask: {\n        id: id,\n        __typename: 'Task',\n        title,\n        notes,\n        due,\n        status,\n      },\n    },\n  })\n\nexport function useUpdateTaskEffect(updateTask, task) {\n  const { title, notes, due, listId, id, status } = task\n  const [shouldUpdate, setShouldUpdate] = useState(false)\n  const [throttledUpdate, setThrottledUpdate] = useState({})\n  useEffect(() => {\n    // set only once\n    const throttled = throttle(updateTaskFn, 500, { leading: false })\n    setThrottledUpdate({ call: throttled })\n    // eslint-disable-next-line\n  }, [])\n  const optimistic = isTaskOptimistic(id)\n  useEffect(() => {\n    if (!shouldUpdate) {\n      // skip first update\n      setShouldUpdate(true)\n      return\n    }\n    if (optimistic) {\n      // don't update id does not have id yet\n      return\n    }\n    throttledUpdate.call(updateTask, { title, notes, due, listId, id, status })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [title, notes, due, status, optimistic])\n}\n\nexport const mutateMoveToList = (moveToList, { listId, id, targetListId }) =>\n  moveToList({\n    variables: { listId, id, targetListId },\n    optimisticResponse: {\n      __typename: 'Mutation',\n      moveToList: true,\n    },\n    update: (proxy, { data: { moveTask } }) => {\n      const data = proxy.readQuery({\n        query: TASK_LIST,\n        variables: { id: listId },\n      })\n      data.taskList.tasks = data.taskList.tasks.filter((t) => t.id !== id)\n      proxy.writeQuery({\n        query: TASK_LIST,\n        variables: { id: listId },\n        data,\n      })\n    },\n    awaitRefetchQueries: true,\n    refetchQueries: [\n      {\n        query: TASK_LIST,\n        variables: { id: targetListId },\n      },\n      {\n        query: TASK_LIST,\n        variables: { id: listId },\n      },\n    ],\n  })\n","import { withStyles } from '@material-ui/core'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport React from 'react'\nimport grey from '@material-ui/core/colors/grey'\n\nfunction CompletedCheckbox({ status, setStatus, ...other }) {\n  const checked = status === 'completed'\n  return (\n    <Checkbox\n      color=\"default\"\n      onClick={() => {\n        if (status === 'completed') {\n          setStatus('needsAction')\n        } else {\n          setStatus('completed')\n        }\n      }}\n      checked={checked}\n      {...other}\n    />\n  )\n}\n\nconst withCheckboxStyles = withStyles({\n  root: {\n    color: grey[500],\n    '&$checked': {\n      color: grey[400],\n    },\n  },\n})\n\nexport default withCheckboxStyles(CompletedCheckbox)\n","import React from 'react'\nimport TextField from '@material-ui/core/TextField'\n\n// local date format - YYYY-MM-DD\n\nconst fromLocalToISO = (localDate) => localDate && localDate + 'T00:00:00.000Z'\n\nconst fromISOToLocal = (isoDate) => isoDate && isoDate.substring(0, 10)\n\nexport default function DateTimePicker({ value, onChange, ...other }) {\n  return (\n    <TextField\n      type=\"date\"\n      value={fromISOToLocal(value)}\n      onChange={(e) => {\n        onChange(fromLocalToISO(e.target.value))\n      }}\n      {...other}\n    />\n  )\n}\n","import { Query } from 'react-apollo'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport React from 'react'\nimport Select from '@material-ui/core/Select'\n\nimport { MINIMAL_TASK_LISTS } from '../../../queries/taskListsQueries'\nimport GlobalLoadingIndicator from '../common/GlobalLoadingIndicator'\n\nexport default function TaskListSelect({ ...props }) {\n  return (\n    <Query query={MINIMAL_TASK_LISTS}>\n      {({ loading, error, data }) => {\n        if (loading)\n          return (\n            <>\n              <Select value=\"\" />\n              <GlobalLoadingIndicator />\n            </>\n          )\n        if (error) return <Select value=\"\" />\n\n        return (\n          <Select {...props}>\n            {data.taskLists.map(({ title, id }, index) => (\n              <MenuItem key={id} value={id}>\n                {title}\n              </MenuItem>\n            ))}\n          </Select>\n        )\n      }}\n    </Query>\n  )\n}\n","import FormControlLabel from '@material-ui/core/FormControlLabel'\nimport { makeStyles } from '@material-ui/core'\nimport { withRouter } from 'react-router-dom'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport React, { useState } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport { compose } from 'recompose'\n\nimport {\n  mutateMoveToList,\n  useUpdateTaskEffect,\n} from '../../../queries/taskHelpers'\nimport {\n  withMoveToListMutation,\n  withUpdateTaskMutation,\n} from '../../../queries/taskMutations'\nimport CompletedCheckbox from '../../../components/CompletedCheckbox'\nimport DateTimePicker from '../../../components/DateTimePicker'\nimport TaskListSelect from '../taskLists/TaskListSelect'\n\nconst useStyles = makeStyles((theme) => ({\n  textField: {\n    width: '100%',\n  },\n  shortInput: {\n    width: '100%',\n    maxWidth: 250,\n  },\n}))\n\nfunction TaskForm({ data, listId, updateTask, moveToList, history }) {\n  const [title, setTitle] = useState(data.task.title)\n  const [notes, setNotes] = useState(data.task.notes)\n  const [due, setDue] = useState(data.task.due || '')\n  const [list, setList] = useState(listId)\n  const [status, setStatus] = useState(data.task.status)\n  const classes = useStyles()\n  useUpdateTaskEffect(updateTask, {\n    ...data.task,\n    title,\n    notes: notes,\n    due: due || null,\n    listId,\n    status,\n  })\n  return (\n    <div style={{ padding: 20 }}>\n      <TextField\n        label=\"Enter title\"\n        className={classes.textField}\n        margin=\"normal\"\n        value={title || ''}\n        onChange={(e) => setTitle(e.target.value)}\n      />\n      <TextField\n        label=\"Add details\"\n        multiline\n        rows=\"4\"\n        rowsMax=\"15\"\n        className={classes.textField}\n        margin=\"normal\"\n        value={notes || ''}\n        onChange={(e) => setNotes(e.target.value)}\n      />\n      <FormControlLabel\n        control={\n          <CompletedCheckbox\n            edge=\"start\"\n            status={status}\n            setStatus={setStatus}\n            disableRipple\n          />\n        }\n        style={{ marginLeft: 0 }}\n        label=\"Completed\"\n      />\n      <br />\n      <div>\n        <FormHelperText>Move to list</FormHelperText>\n        <TaskListSelect\n          className={classes.shortInput}\n          value={list}\n          onChange={(e) => {\n            const targetListId = e.target.value\n            setList(targetListId)\n            if (list !== targetListId) {\n              mutateMoveToList(moveToList, {\n                targetListId,\n                id: data.task.id,\n                listId: list,\n              })\n              history.push(`/app/list/${targetListId}`)\n            }\n          }}\n        />\n      </div>\n      <br />\n      <DateTimePicker\n        value={due}\n        onChange={setDue}\n        label=\"Add date/time\"\n        className={classes.shortInput}\n        InputLabelProps={{ shrink: true }}\n      />\n    </div>\n  )\n}\n\nexport default compose(\n  withRouter,\n  withUpdateTaskMutation,\n  withMoveToListMutation,\n)(TaskForm)\n","import { Mutation } from 'react-apollo'\nimport { gql } from 'apollo-boost'\nimport IconButton from '@material-ui/core/IconButton'\nimport LogoutIcon from '@material-ui/icons/PowerSettingsNew'\nimport React from 'react'\n\nexport const LogoutButton = () => (\n  <Mutation\n    mutation={gql`\n      mutation Logout {\n        logout {\n          id\n          isSignedIn\n        }\n      }\n    `}\n  >\n    {(logout, { data, client }) => {\n      return (\n        <IconButton\n          color=\"inherit\"\n          aria-label=\"Logout\"\n          onClick={async () => {\n            await logout()\n            client.clearStore()\n          }}\n        >\n          <LogoutIcon />\n        </IconButton>\n      )\n    }}\n  </Mutation>\n)\n","import React from 'react'\n\nexport default class ErrorBoundary extends React.Component {\n  render() {\n    return <>{this.props.children}</>\n  }\n\n  componentDidCatch(error, info) {\n    console.log(error, info)\n  }\n}\n","export const LAST_LIST_STORAGE_KEY = 'AT-lastList'\n\nexport function saveToLocalStorage(key, value) {\n  try {\n    window.localStorage.setItem(key, value)\n  } catch (ignore) {}\n}\n\nexport function loadFromLocalStorage(key) {\n  try {\n    return window.localStorage.getItem(key)\n  } catch (ignore) {}\n}\n","import { gql } from 'apollo-boost'\n\nexport const ADD_LIST = gql`\n  mutation AddList($title: String!) {\n    addList(title: $title) {\n      id\n      title\n    }\n  }\n`\n","import { makeStyles } from '@material-ui/core'\nimport Fab from '@material-ui/core/Fab'\nimport React from 'react'\n\nconst useStyles = makeStyles((theme) => ({\n  fab: {\n    margin: theme.spacing(1),\n  },\n  extendedIcon: {\n    marginRight: theme.spacing(1),\n  },\n}))\n\nexport default function FabButton({ Icon, children, ...other }) {\n  const classes = useStyles()\n  return (\n    <Fab\n      variant=\"extended\"\n      size=\"small\"\n      className={classes.fab}\n      color=\"primary\"\n      {...other}\n    >\n      {Icon && <Icon className={classes.extendedIcon} />}\n      {children}\n    </Fab>\n  )\n}\n","import { withRouter } from 'react-router-dom'\nimport AddIcon from '@material-ui/icons/Add'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport React, { useEffect } from 'react'\nimport TextField from '@material-ui/core/TextField'\n\nimport { ADD_LIST } from '../../../queries/taskListsMutations'\nimport { LoadableMutation } from '../common/LoadableMutation'\nimport { MINIMAL_TASK_LISTS } from '../../../queries/taskListsQueries'\nimport FabButton from '../../../components/FabButton'\n\nfunction AddTaskListButton({ history }) {\n  const [open, setOpen] = React.useState(false)\n  const [title, setTitle] = React.useState('')\n  useEffect(() => {\n    setTitle('')\n  }, [open])\n\n  function handleClickOpen() {\n    setOpen(true)\n  }\n\n  function handleCancel() {\n    setOpen(false)\n  }\n\n  return (\n    <LoadableMutation mutation={ADD_LIST}>\n      {(addList, { data, loading }) => {\n        function handleCreate() {\n          addList({\n            variables: { title },\n            awaitRefetchQueries: true,\n            refetchQueries: [{ query: MINIMAL_TASK_LISTS }],\n          })\n            .then((result) => {\n              setOpen(false)\n              history.push(`/app/list/${result.data.addList.id}`)\n            })\n            .catch((err) => {\n              setOpen(false)\n              throw err\n            })\n        }\n        return (\n          <>\n            <FabButton\n              aria-label=\"Add list\"\n              Icon={AddIcon}\n              onClick={handleClickOpen}\n            >\n              Add list\n            </FabButton>\n            <Dialog\n              open={open}\n              onClose={handleCancel}\n              aria-labelledby=\"form-dialog-title\"\n            >\n              <DialogTitle id=\"form-dialog-title\">New list</DialogTitle>\n              <DialogContent>\n                <TextField\n                  autoFocus\n                  margin=\"dense\"\n                  label=\"List Name\"\n                  type=\"text\"\n                  fullWidth\n                  value={title}\n                  onChange={(e) => setTitle(e.target.value)}\n                  disabled={loading}\n                />\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleCancel}\n                  color=\"primary\"\n                  disabled={loading}\n                >\n                  Cancel\n                </Button>\n                <Button\n                  onClick={handleCreate}\n                  color=\"primary\"\n                  disabled={loading}\n                >\n                  Create\n                </Button>\n              </DialogActions>\n            </Dialog>\n          </>\n        )\n      }}\n    </LoadableMutation>\n  )\n}\n\nexport default withRouter(AddTaskListButton)\n","import { Mutation } from 'react-apollo'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport React from 'react'\n\nimport { DELETE_LIST } from '../../../queries/taskMutations'\nimport { MINIMAL_TASK_LISTS } from '../../../queries/taskListsQueries'\n\nfunction DeleteListDialog({ list, open, onClose }) {\n  return (\n    <Dialog open={open} onClose={onClose} aria-labelledby=\"form-dialog-title\">\n      <Mutation mutation={DELETE_LIST}>\n        {(deleteList, { data }) => (\n          <>\n            <DialogTitle id=\"form-dialog-title\">Delete list</DialogTitle>\n            <DialogContent>\n              Do you really want to delete list \"{list.title}\"?\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={onClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button\n                onClick={() => {\n                  deleteList({\n                    variables: { listId: list.id },\n                    optimisticResponse: {\n                      __typename: 'Mutation',\n                      deleteList: {\n                        id: list.id,\n                        __typename: 'TaskList',\n                      },\n                    },\n                    update: (proxy, { data: { deleteTask } }) => {\n                      const data = proxy.readQuery({\n                        query: MINIMAL_TASK_LISTS,\n                      })\n                      data.taskLists = data.taskLists.filter(\n                        (t) => t.id !== list.id,\n                      )\n                      proxy.writeQuery({\n                        query: MINIMAL_TASK_LISTS,\n                        data,\n                      })\n                    },\n                  })\n                  onClose()\n                }}\n                color=\"primary\"\n              >\n                Delete\n              </Button>\n            </DialogActions>\n          </>\n        )}\n      </Mutation>\n    </Dialog>\n  )\n}\n\nexport default DeleteListDialog\n","import { Mutation } from 'react-apollo'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport React, { useEffect } from 'react'\nimport TextField from '@material-ui/core/TextField'\n\nimport { EDIT_LIST } from '../../../queries/taskMutations'\n\nfunction RenameListDialog({ list, open, onClose }) {\n  const { id } = list\n  const [title, setTitle] = React.useState(list.title)\n  useEffect(() => {\n    setTitle(list && list.title)\n    // eslint-disable-next-line\n  }, [list && list.id])\n  return (\n    <Dialog open={open} onClose={onClose} aria-labelledby=\"form-dialog-title\">\n      <Mutation mutation={EDIT_LIST}>\n        {(editList, { data }) => (\n          <>\n            <DialogTitle id=\"form-dialog-title\">Rename list</DialogTitle>\n            <DialogContent>\n              <TextField\n                autoFocus\n                margin=\"dense\"\n                label=\"List Name\"\n                type=\"text\"\n                fullWidth\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n              />\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={onClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button\n                onClick={() => {\n                  editList({\n                    variables: { listId: id, title },\n                    optimisticResponse: {\n                      __typename: 'Mutation',\n                      editList: {\n                        id: list.id,\n                        title: title,\n                        __typename: 'TaskList',\n                      },\n                    },\n                  })\n                  onClose()\n                }}\n                color=\"primary\"\n              >\n                Edit\n              </Button>\n            </DialogActions>\n          </>\n        )}\n      </Mutation>\n    </Dialog>\n  )\n}\n\nexport default RenameListDialog\n","import Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport React from 'react'\n\nimport DeleteListDialog from './DeleteListDialog'\nimport RenameListDialog from './RenameListDialog'\n\nconst ListSidebarContextMenu = ({ anchorEl, handleActionsClose, list }) => {\n  const [renameOpen, setRenameOpen] = React.useState(false)\n  const [deleteOpen, setDeleteOpen] = React.useState(false)\n  return (\n    <>\n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleActionsClose}\n      >\n        <div>\n          <MenuItem\n            onClick={() => {\n              setRenameOpen(true)\n              handleActionsClose()\n            }}\n          >\n            Rename list\n          </MenuItem>\n          <MenuItem\n            onClick={() => {\n              setDeleteOpen(true)\n              handleActionsClose()\n            }}\n          >\n            Delete list\n          </MenuItem>\n        </div>\n      </Menu>\n      <RenameListDialog\n        list={list}\n        open={renameOpen}\n        onClose={() => {\n          setRenameOpen(false)\n          handleActionsClose()\n        }}\n      />\n      <DeleteListDialog\n        list={list}\n        open={deleteOpen}\n        onClose={() => {\n          setDeleteOpen(false)\n          handleActionsClose()\n        }}\n      />\n    </>\n  )\n}\n\nexport default ListSidebarContextMenu\n","import './SidebarTaskListItem.css'\n\nimport { Droppable } from 'react-beautiful-dnd'\nimport IconButton from '@material-ui/core/IconButton'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport MoreIcon from '@material-ui/icons/MoreVert'\nimport React from 'react'\n\nimport { TaskListLink } from '../../../components/Link'\nimport ErrorBoundary from '../../../components/ErrorBoundary'\n\nlet hackToPreventIdCollisions = 1\n\nexport default function SidebarTaskListItem({\n  id,\n  title,\n  handleActionsClick,\n  selected,\n}) {\n  return (\n    <ErrorBoundary>\n      <Droppable\n        key={id}\n        droppableId={`tasklist-${hackToPreventIdCollisions++}-${id}`}\n      >\n        {(provided, snapshot) => (\n          <div ref={provided.innerRef} className=\"SidebarTaskListItem\">\n            <div style={{ visibility: 'hidden', height: 0 }}>\n              {provided.placeholder}\n            </div>\n            <ListItem\n              selected={selected}\n              style={{\n                cursor: 'pointer',\n                backgroundColor: snapshot.isDraggingOver\n                  ? 'rgb(235,235,235)'\n                  : undefined,\n              }}\n              component={TaskListLink(id)}\n              button\n            >\n              <ListItemText primary={title} />\n              <ListItemSecondaryAction>\n                <IconButton\n                  edge=\"end\"\n                  className=\"SidebarTaskListItem-action\"\n                  aria-label=\"List actions\"\n                  onClick={(e) => handleActionsClick(e, { id, title })}\n                >\n                  <MoreIcon />\n                </IconButton>\n              </ListItemSecondaryAction>\n            </ListItem>\n          </div>\n        )}\n      </Droppable>\n    </ErrorBoundary>\n  )\n}\n","import { Redirect, withRouter } from 'react-router-dom'\nimport { get } from 'lodash'\nimport List from '@material-ui/core/List'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport React from 'react'\n\nimport {\n  LAST_LIST_STORAGE_KEY,\n  loadFromLocalStorage,\n} from '../../app/utils/storageUtils'\nimport { LoadableQuery } from './common/LoadableQuery'\nimport { MINIMAL_TASK_LISTS, TASK_LIST } from '../../queries/taskListsQueries'\nimport AddTaskListButton from './taskLists/AddTaskListButton'\nimport ListSidebarContextMenu from './taskLists/ListSidebarContextMenu'\nimport SidebarTaskListItem from './taskLists/SidebarTaskListItem'\n\nlet prefetched = false\n\nconst isSelected = (match, id) =>\n  match.path === '/app/list/:listId' && id === match.params.listId\n\nfunction initialListPath(taskLists) {\n  const lastListId = loadFromLocalStorage(LAST_LIST_STORAGE_KEY)\n  const list = taskLists.find((l) => l.id === lastListId)\n  if (list) {\n    return `/app/list/${lastListId}`\n  }\n  return `/app/list/${taskLists[0].id}`\n}\n\nfunction Sidebar({ match }) {\n  const [anchorEl, setAnchorEl] = React.useState(null)\n  const [list, setList] = React.useState(null)\n  function handleActionsClick(event, list) {\n    setAnchorEl(event.currentTarget)\n    setList(list)\n  }\n  function handleActionsClose() {\n    setAnchorEl(null)\n  }\n  return (\n    <LoadableQuery query={MINIMAL_TASK_LISTS}>\n      {({ data, client }) => {\n        const taskLists = get(data, 'taskLists', [])\n        // unknown or undefined\n        const isUnknown = !taskLists.find((l) => l.id === match.params.listId)\n        if (taskLists[0] && isUnknown) {\n          return <Redirect to={initialListPath(taskLists)} />\n        }\n        if (!prefetched) {\n          taskLists.forEach((list) => {\n            client.query({\n              query: TASK_LIST,\n              variables: { id: list.id },\n            })\n          })\n          prefetched = true\n        }\n        return (\n          <List>\n            <ListSubheader>Task lists</ListSubheader>\n            {taskLists.map(({ title, id }, index) => (\n              <SidebarTaskListItem\n                key={id}\n                id={id}\n                title={title}\n                handleActionsClick={handleActionsClick}\n                selected={isSelected(match, id)}\n              />\n            ))}\n            <AddTaskListButton />\n            {list && (\n              <ListSidebarContextMenu\n                list={list}\n                anchorEl={anchorEl}\n                handleActionsClose={handleActionsClose}\n              />\n            )}\n          </List>\n        )\n      }}\n    </LoadableQuery>\n  )\n}\n\nexport default withRouter(Sidebar)\n","import { Query } from 'react-apollo'\nimport { Redirect } from 'react-router-dom'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport Divider from '@material-ui/core/Divider'\nimport Drawer from '@material-ui/core/Drawer'\nimport Hidden from '@material-ui/core/Hidden'\nimport IconButton from '@material-ui/core/IconButton'\nimport LinearProgress from '@material-ui/core/LinearProgress'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport React, { useContext } from 'react'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\n\nimport { CURRENT_USER } from '../../queries/loginQueries'\nimport { LoadingConext } from './common/LoadingContext'\nimport { LogoutButton } from './login/LogoutButton'\nimport ErrorBoundary from '../../components/ErrorBoundary'\nimport GlobalLoadingIndicator from './common/GlobalLoadingIndicator'\nimport Sidebar from './Sidebar'\nimport logo from '../../resources/logo.png'\n\nconst drawerWidth = 280\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    marginLeft: drawerWidth,\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n  toolbar: theme.mixins.toolbar,\n  userToolbar: {\n    padding: 5,\n    paddingLeft: 15,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n  },\n}))\n\nfunction Template(props) {\n  const { right, toolbar, container, children } = props\n  const classes = useStyles()\n  const theme = useTheme()\n  const [mobileOpen, setMobileOpen] = React.useState(false)\n  const { loading } = useContext(LoadingConext)\n\n  function handleDrawerToggle() {\n    setMobileOpen(!mobileOpen)\n  }\n\n  const drawer = (\n    <div>\n      <div className={`${classes.toolbar} ${classes.userToolbar}`}>\n        <img src={logo} style={{ height: 35 }} alt=\"logo\" />\n        <LogoutButton />\n      </div>\n      <Divider />\n      <Sidebar />\n    </div>\n  )\n\n  return (\n    <ErrorBoundary>\n      <div className={classes.root}>\n        <CssBaseline />\n        <AppBar position=\"fixed\" className={classes.appBar} color=\"primary\">\n          <Toolbar>\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"Open drawer\"\n              edge=\"start\"\n              onClick={handleDrawerToggle}\n              className={classes.menuButton}\n            >\n              <MenuIcon />\n            </IconButton>\n            <Typography variant=\"h6\" noWrap>\n              {toolbar}\n            </Typography>\n            <div style={{ flex: 1 }} />\n            {right}\n          </Toolbar>\n        </AppBar>\n        <nav className={classes.drawer}>\n          {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n          <Hidden smUp implementation=\"css\">\n            <Drawer\n              container={container}\n              variant=\"temporary\"\n              anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n              open={mobileOpen}\n              onClose={handleDrawerToggle}\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n              ModalProps={{\n                keepMounted: true, // Better open performance on mobile.\n              }}\n            >\n              {drawer}\n            </Drawer>\n          </Hidden>\n          <Hidden xsDown implementation=\"css\">\n            <Drawer\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n              variant=\"permanent\"\n              open\n            >\n              {drawer}\n            </Drawer>\n          </Hidden>\n        </nav>\n        <main className={classes.content}>\n          <div className={classes.toolbar} />\n          <div style={{ visibility: loading ? 'visible' : 'hidden' }}>\n            <LinearProgress />\n          </div>\n          {children}\n        </main>\n      </div>\n    </ErrorBoundary>\n  )\n}\n\nconst withAuthRedirect = (Component) => (props) =>\n  (\n    <Query query={CURRENT_USER}>\n      {({ loading, error, data }) => {\n        if (loading) return <GlobalLoadingIndicator />\n        if (error) return <Redirect to=\"/\" />\n        const isSignedIn = data.currentUser && data.currentUser.isSignedIn\n        return isSignedIn ? <Component {...props} /> : <Redirect to=\"/\" />\n      }}\n    </Query>\n  )\n\nexport default withAuthRedirect(Template)\n","import { makeStyles } from '@material-ui/core'\nimport IconButton from '@material-ui/core/IconButton'\nimport React from 'react'\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    color: 'white',\n  },\n}))\n\nexport default function ToolbarButton({ Icon, ...other }) {\n  const classes = useStyles()\n  return (\n    <IconButton className={classes.button} {...other}>\n      <Icon />\n    </IconButton>\n  )\n}\n","import { DragDropContext } from 'react-beautiful-dnd'\nimport { Mutation } from 'react-apollo'\nimport BackIcon from '@material-ui/icons/ArrowBack'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport React from 'react'\n\nimport { DELETE_TASK } from '../queries/taskMutations'\nimport { LoadableQuery } from './app/common/LoadableQuery'\nimport { TASK } from '../queries/taskQueries'\nimport { TASK_LIST } from '../queries/taskListsQueries'\nimport { TaskListLink } from '../components/Link'\nimport TaskForm from './app/tasks/TaskForm'\nimport Template from './app/Template'\nimport ToolbarButton from '../components/ToolbarButton'\n\nexport default function TaskDetailPage({\n  match: {\n    params: { listId, taskId },\n  },\n  history,\n}) {\n  return (\n    <DragDropContext>\n      <Template\n        toolbar={\n          <ToolbarButton component={TaskListLink(listId)} Icon={BackIcon} />\n        }\n        right={\n          <Mutation mutation={DELETE_TASK} variables={{ listId, id: taskId }}>\n            {(deleteTask) => (\n              <ToolbarButton\n                onClick={() => {\n                  deleteTask({\n                    optimisticResponse: {\n                      __typename: 'Mutation',\n                      deleteTask: {\n                        id: taskId,\n                        __typename: 'Task',\n                      },\n                    },\n                    update: (proxy, { data: { deleteTask } }) => {\n                      const data = proxy.readQuery({\n                        query: TASK_LIST,\n                        variables: { id: listId },\n                      })\n                      data.taskList.tasks = data.taskList.tasks.filter(\n                        (t) => t.id !== taskId,\n                      )\n                      proxy.writeQuery({\n                        query: TASK_LIST,\n                        variables: { id: listId },\n                        data,\n                      })\n                    },\n                  }).then(() => {\n                    history.push(`/app/list/${listId}`)\n                  })\n                }}\n                component={TaskListLink(listId)}\n                Icon={DeleteIcon}\n              />\n            )}\n          </Mutation>\n        }\n      >\n        <LoadableQuery query={TASK} variables={{ id: taskId, listId: listId }}>\n          {({ data }) => {\n            return <TaskForm data={data} listId={listId} />\n          }}\n        </LoadableQuery>\n      </Template>\n    </DragDropContext>\n  )\n}\n","import { Droppable, Draggable } from 'react-beautiful-dnd'\nimport { makeStyles } from '@material-ui/core'\nimport DragIcon from '@material-ui/icons/DragIndicator'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport React from 'react'\nimport RootRef from '@material-ui/core/RootRef'\nimport grey from '@material-ui/core/colors/grey'\n\nconst getItemStyle = (isDragging, draggableStyle) => ({\n  // styles we need to apply on draggables\n  ...draggableStyle,\n\n  ...(isDragging && {\n    background: 'rgb(235,235,235)',\n  }),\n})\n\nconst useStyles = makeStyles((theme) => ({\n  icon: {\n    color: grey[500],\n    marginTop: 3,\n  },\n}))\n\nexport default function DraggableList(props) {\n  // Normally you would want to split things out into separate components.\n  // But in this example everything is just done in one place for simplicity\n  const classes = useStyles()\n  return (\n    <Droppable droppableId=\"droppable\">\n      {(provided, snapshot) => (\n        <RootRef rootRef={provided.innerRef}>\n          <List>\n            {props.items.map((item, index) => (\n              <Draggable\n                key={item.key}\n                draggableId={item.id}\n                index={index}\n                isDragDisabled={item.dragDisabled}\n              >\n                {(provided, snapshot) => (\n                  <div style={{ position: 'relative' }}>\n                    <ListItem\n                      {...provided.draggableProps}\n                      style={getItemStyle(\n                        snapshot.isDragging,\n                        provided.draggableProps.style,\n                      )}\n                    >\n                      <div\n                        ref={provided.innerRef}\n                        style={{\n                          position: 'absolute',\n                          top: 0,\n                          bottom: 0,\n                          left: 4,\n                          width: 300,\n                          display: 'flex',\n                          alignItems: 'center',\n                        }}\n                      >\n                        <span {...provided.dragHandleProps} tabIndex=\"-1\">\n                          <DragIcon className={classes.icon} />\n                        </span>\n                      </div>\n                      <div style={{ display: 'inline-block', width: 23 }} />\n                      {item.children}\n                    </ListItem>\n                  </div>\n                )}\n              </Draggable>\n            ))}\n            {provided.placeholder}\n          </List>\n        </RootRef>\n      )}\n    </Droppable>\n  )\n}\n","import { DragDropContext } from 'react-beautiful-dnd'\nimport React from 'react'\nimport { compose } from 'recompose'\n\nimport { TASK_LIST } from '../../../queries/taskListsQueries'\nimport { isTaskOptimistic } from '../../../app/optimisticCache'\nimport { mutateMoveToList } from '../../../queries/taskHelpers'\nimport {\n  withMoveTaskMutation,\n  withMoveToListMutation,\n} from '../../../queries/taskMutations'\n\nconst reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list)\n  const [removed] = result.splice(startIndex, 1)\n  result.splice(endIndex, 0, removed)\n  return result\n}\n\nconst DropTaskContainer = ({\n  data,\n  moveTask,\n  moveToList,\n  listId,\n  ...other\n}) => (\n  <DragDropContext\n    onDragEnd={(result) => {\n      if (!result.destination) {\n        // outside of container\n        return\n      }\n      console.log('droppable result', result)\n      const id = result.draggableId\n      if (isTaskOptimistic(id)) {\n        return\n      }\n      const shouldMoveTask = result.destination.droppableId === 'droppable'\n      if (shouldMoveTask) {\n        const tasks = reorder(\n          [...data.taskList.tasks],\n          result.source.index,\n          result.destination.index,\n        )\n        const prevIndex = tasks.findIndex((t) => t.id === id) - 1\n        const previousId = tasks[prevIndex] && tasks[prevIndex].id\n        moveTask({\n          variables: { listId, id, previousId },\n          optimisticResponse: {\n            __typename: 'Mutation',\n            moveTask: true,\n          },\n          update: (proxy, { data: { moveTask } }) => {\n            const data = proxy.readQuery({\n              query: TASK_LIST,\n              variables: { id: listId },\n            })\n            proxy.writeQuery({\n              query: TASK_LIST,\n              variables: { id: listId },\n              data: {\n                ...data,\n                taskList: {\n                  ...data.taskList,\n                  tasks,\n                },\n              },\n            })\n          },\n        })\n      } else {\n        // move to list\n        const targetListId = result.destination.droppableId.split('-')[2]\n        if (listId === targetListId) {\n          return\n        }\n        mutateMoveToList(moveToList, { listId, id, targetListId })\n      }\n    }}\n    {...other}\n  />\n)\n\nexport default compose(\n  withMoveTaskMutation,\n  withMoveToListMutation,\n)(DropTaskContainer)\n","import AddIcon from '@material-ui/icons/Add'\nimport ClearCompletedIcon from '@material-ui/icons/VisibilityOff'\nimport React from 'react'\n\nimport { useAddTask, useClearCompleted } from '../../../queries/taskMutations'\nimport FabButton from '../../../components/FabButton'\n\nexport default function ListActionsToolbar({ listId }) {\n  const [addTask] = useAddTask({ listId })\n  const [clearCompleted] = useClearCompleted({ listId })\n  return (\n    <div>\n      <FabButton aria-label=\"Add task\" Icon={AddIcon} onClick={() => addTask()}>\n        Add task\n      </FabButton>\n      <FabButton\n        aria-label=\"Clear completed\"\n        Icon={ClearCompletedIcon}\n        onClick={clearCompleted}\n      >\n        Clear completed\n      </FabButton>\n    </div>\n  )\n}\n","import Divider from '@material-ui/core/Divider'\nimport IconButton from '@material-ui/core/IconButton'\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport MoreIcon from '@material-ui/icons/MoreVert'\nimport React from 'react'\n\nimport DeleteListDialog from '../taskLists/DeleteListDialog'\nimport RenameListDialog from '../taskLists/RenameListDialog'\n\nexport default function ListContextMenu({ list, onRefresh }) {\n  const [anchorEl, setAnchorEl] = React.useState(null)\n  const [renameOpen, setRenameOpen] = React.useState(false)\n  const [deleteOpen, setDeleteOpen] = React.useState(false)\n  function handleActionsClick(event) {\n    setAnchorEl(event.currentTarget)\n  }\n  function handleActionsClose() {\n    setAnchorEl(null)\n  }\n  return (\n    <>\n      <IconButton\n        color=\"inherit\"\n        aria-label=\"List actions\"\n        edge=\"start\"\n        onClick={handleActionsClick}\n      >\n        <MoreIcon />\n      </IconButton>\n      <Menu\n        id=\"simple-menu\"\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleActionsClose}\n      >\n        {/**\n        <ListSubheader>Sort by</ListSubheader>\n        <MenuItem onClick={handleActionsClose}>My order</MenuItem>\n        <MenuItem onClick={handleActionsClose}>Date</MenuItem>\n        <Divider />\n          **/}\n        <MenuItem\n          onClick={() => {\n            setRenameOpen(true)\n            handleActionsClose()\n          }}\n        >\n          Rename list\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            setDeleteOpen(true)\n            handleActionsClose()\n          }}\n        >\n          Delete list\n        </MenuItem>\n        <Divider />\n        <MenuItem\n          onClick={() => {\n            onRefresh()\n            handleActionsClose()\n          }}\n        >\n          Refresh\n        </MenuItem>\n      </Menu>\n      <RenameListDialog\n        list={list}\n        open={renameOpen}\n        onClose={() => {\n          setRenameOpen(false)\n          handleActionsClose()\n        }}\n      />\n      <DeleteListDialog\n        list={list}\n        open={deleteOpen}\n        onClose={() => {\n          setDeleteOpen(false)\n          handleActionsClose()\n        }}\n      />\n    </>\n  )\n}\n","export const shortenText = (maxLetters) => (text) => {\n  if (!text) {\n    return text\n  }\n  if (text.length <= maxLetters) {\n    return text\n  }\n  return text.substring(0, maxLetters - 3) + '...'\n}\n","import { makeStyles } from '@material-ui/core'\nimport DetailIcon from '@material-ui/icons/ChevronRight'\nimport IconButton from '@material-ui/core/IconButton'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport React, { useEffect, useRef, useState } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport grey from '@material-ui/core/colors/grey'\n\nimport { TaskDetailLink } from '../../../components/Link'\nimport { isTaskOptimistic } from '../../../app/optimisticCache'\nimport { shortenText } from '../../../app/utils/textUtils'\nimport {\n  useAddTask,\n  withUpdateTaskMutation,\n} from '../../../queries/taskMutations'\nimport { useUpdateTaskEffect } from '../../../queries/taskHelpers'\nimport CompletedCheckbox from '../../../components/CompletedCheckbox'\n\nconst useStyles = makeStyles((theme) => ({\n  completedInput: {\n    textDecoration: 'line-through',\n    color: grey[400],\n  },\n}))\n\nconst shortenNotes = shortenText(100)\n\nfunction TaskItem({ task, autoFocus, listId, updateTask }) {\n  const [title, setTitle] = useState(task.title)\n  const [status, setStatus] = useState(task.status)\n  const [addTask] = useAddTask({ listId })\n  const inputRef = useRef()\n  useEffect(() => {\n    // re-initialize state after manual refresh\n    setStatus(task.status)\n    setTitle(task.title)\n  }, [task.status, task.title || '']) // eslint-disable-line\n  useEffect(() => {\n    if (autoFocus && inputRef.current) {\n      inputRef.current.focus()\n    }\n  }, [autoFocus])\n  useUpdateTaskEffect(updateTask, {\n    ...task,\n    listId,\n    title,\n    status,\n  })\n  const { notes, id } = task\n  const classes = useStyles()\n  const isOptimistic = isTaskOptimistic(id)\n  return (\n    <>\n      <ListItemIcon>\n        <CompletedCheckbox\n          edge=\"start\"\n          status={status}\n          setStatus={isOptimistic ? () => 0 : setStatus}\n          tabIndex={-1}\n          disableRipple\n        />\n      </ListItemIcon>\n      <ListItemText\n        primary={\n          <TextField\n            onKeyPress={(ev) => {\n              if (ev.key === 'Enter') {\n                addTask()\n              }\n            }}\n            value={title || ''}\n            onChange={(e) => {\n              setTitle(e.target.value)\n            }}\n            margin=\"none\"\n            fullWidth\n            inputRef={inputRef}\n            InputProps={{\n              disableUnderline: true,\n              classes: {\n                input: status === 'completed' && classes.completedInput,\n              },\n            }}\n          />\n        }\n        secondary={shortenNotes(notes)}\n      />\n      <ListItemSecondaryAction>\n        <IconButton\n          tabIndex=\"-1\"\n          edge=\"end\"\n          aria-label=\"Task detail\"\n          component={isOptimistic ? undefined : TaskDetailLink(listId, id)}\n        >\n          <DetailIcon />\n        </IconButton>\n      </ListItemSecondaryAction>\n    </>\n  )\n}\n\nexport default withUpdateTaskMutation(TaskItem)\n","import { Query } from 'react-apollo'\nimport React, { useEffect, useState } from 'react'\n\nimport {\n  LAST_LIST_STORAGE_KEY,\n  saveToLocalStorage,\n} from '../app/utils/storageUtils'\nimport { TASK } from '../queries/taskQueries'\nimport { TASK_LIST } from '../queries/taskListsQueries'\nimport { useAddTask } from '../queries/taskMutations'\nimport { getTaskKey, isTaskOptimistic } from '../app/optimisticCache'\nimport DefaultError from '../components/DefaultError'\nimport DraggableList from '../components/DraggableList'\nimport DropTaskContainer from './app/tasks/DropTaskContainer'\nimport GlobalLoadingIndicator from './app/common/GlobalLoadingIndicator'\nimport ListActionsToolbar from './app/tasks/ListActionsToolbar'\nimport ListContextMenu from './app/tasks/ListContextMenu'\nimport TaskItem from './app/tasks/TaskItem'\nimport Template from './app/Template'\n\nfunction UpdateStore({ list, client }) {\n  useEffect(() => {\n    list.tasks.forEach((task) => {\n      client.writeQuery({\n        query: TASK,\n        variables: { id: task.id, listId: list.id },\n        data: { task },\n      })\n    })\n    // eslint-disable-next-line\n  }, [])\n  return null\n}\n\nconst NoListSelected = ({ children, ...other }) => (\n  <DropTaskContainer>\n    <Template {...other}>{children}</Template>\n  </DropTaskContainer>\n)\n\n// hack to end refreshing (refetch(...).then(...) does not work)\nfunction SetRefreshingToFalse({ setRefreshing, refreshing, loading }) {\n  useEffect(() => {\n    if (!loading && refreshing) {\n      setRefreshing(false)\n    }\n  }, [loading, refreshing]) // eslint-disable-line\n  return null\n}\n\nfunction AutoAddTask({ taskList, listId }) {\n  const [addTask] = useAddTask({ listId })\n  useEffect(() => {\n    if (taskList.tasks.length === 0) {\n      addTask()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [listId, taskList.tasks.length])\n  return null\n}\n\nfunction TasksPage({ match: { params } }) {\n  useEffect(() => {\n    if (params.listId) {\n      saveToLocalStorage(LAST_LIST_STORAGE_KEY, params.listId)\n    }\n  }, [params.listId])\n  const [refreshing, setRefreshing] = useState(false)\n\n  if (!params.listId) {\n    return <NoListSelected />\n  }\n  return (\n    <Query variables={{ id: params.listId }} query={TASK_LIST}>\n      {({ loading, error, data, client, refetch }) => {\n        const taskList = data && data.taskList\n        const loaded = !!(data && data.taskList)\n\n        const initialLoading = loading && !data\n\n        return (\n          <DropTaskContainer data={data} listId={params.listId}>\n            {loaded && (\n              <AutoAddTask taskList={taskList} listId={params.listId} />\n            )}\n            <Template\n              toolbar={loaded && taskList.title}\n              right={\n                loaded && (\n                  <ListContextMenu\n                    list={taskList}\n                    onRefresh={() => {\n                      setRefreshing(true)\n                      refetch({ id: params.listId })\n                    }}\n                  />\n                )\n              }\n            >\n              <SetRefreshingToFalse\n                setRefreshing={setRefreshing}\n                refreshing={refreshing}\n                loading={loading}\n              />\n              {(initialLoading || refreshing) && <GlobalLoadingIndicator />}\n              {error && <DefaultError />}\n              {loaded && (\n                <>\n                  <UpdateStore list={taskList} client={client} />\n                  <ListActionsToolbar listId={params.listId} />\n                  <DraggableList\n                    onDragEnd={() => 0}\n                    items={taskList.tasks.map((task, idx) => {\n                      const key = getTaskKey(task.id)\n                      return {\n                        id: task.id,\n                        dragDisabled: isTaskOptimistic(task.id),\n                        key,\n                        children: (\n                          <TaskItem\n                            key={key}\n                            task={task}\n                            autoFocus={idx === 0}\n                            listId={params.listId}\n                          />\n                        ),\n                      }\n                    })}\n                  />\n                </>\n              )}\n            </Template>\n          </DropTaskContainer>\n        )\n      }}\n    </Query>\n  )\n}\n\nexport default TasksPage\n","import React from 'react'\n\nimport { Header, Paragraph, SubHeader } from '../components/Typo'\nimport PageTemplate from './app/PageTemplate'\n\nexport default function TermsPage() {\n  return (\n    <PageTemplate>\n      <Header>Privacy Policy</Header>\n      <Paragraph>\n        Martin Bielik built the Another tasks app as a Free app. This SERVICE is\n        provided by Martin Bielik at no cost and is intended for use as is.\n      </Paragraph>\n      <Paragraph>\n        This page is used to inform visitors regarding my policies with the\n        collection, use, and disclosure of Personal Information if anyone\n        decided to use my Service.\n      </Paragraph>\n      <Paragraph>\n        If you choose to use my Service, then you agree to the collection and\n        use of information in relation to this policy. The Personal Information\n        that I collect is used for providing and improving the Service. I will\n        not use or share your information with anyone except as described in\n        this Privacy Policy.\n      </Paragraph>\n      <Paragraph>\n        The terms used in this Privacy Policy have the same meanings as in our\n        Terms and Conditions, which is accessible at Another tasks unless\n        otherwise defined in this Privacy Policy.\n      </Paragraph>\n      <SubHeader>Information Collection and Use</SubHeader>\n      <Paragraph>\n        For a better experience, while using our Service, I may require you to\n        provide us with certain personally identifiable information, including\n        but not limited to anonynous data about the site traffic and usage. The\n        information that I request will be retained on your device and is not\n        collected by me in any way.\n      </Paragraph>\n      <Paragraph>\n        The app does use third party services that may collect information used\n        to identify you.\n      </Paragraph>\n      <Paragraph>\n        Link to privacy policy of third party service providers used by the app\n        <ul>\n          <li>\n            <a\n              href=\"https://policies.google.com/privacy\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Google Tasks (Google)\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"https://marketingplatform.google.com/about/analytics/terms/us/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Google Analytics\n            </a>\n          </li>\n        </ul>\n      </Paragraph>\n      <SubHeader>Cookies</SubHeader>\n      <Paragraph>\n        Cookies are files with a small amount of data that are commonly used as\n        anonymous unique identifiers. These are sent to your browser from the\n        websites that you visit and are stored on your device's internal memory.\n      </Paragraph>\n      <Paragraph>\n        This Service does not use these cookies explicitly. However, the app\n        may use third party code and libraries that use cookies to collect\n        information and improve their services. You have the option to either\n        accept or refuse these cookies and know when a cookie is being sent to\n        your device. If you choose to refuse our cookies, you may not be able to\n        use some portions of this Service.\n      </Paragraph>\n      <SubHeader>Service Providers</SubHeader>\n      <Paragraph>\n        I may employ third-party companies and individuals due to the following\n        reasons:\n      </Paragraph>\n      <Paragraph>\n        <ul>\n          <li>To facilitate our Service;</li>\n          <li>To provide the Service on our behalf;</li>\n          <li>To perform Service-related services; or</li>\n          <li>To assist us in analyzing how our Service is used.</li>\n        </ul>\n      </Paragraph>\n      <Paragraph>\n        I want to inform users of this Service that these third parties have\n        access to your Personal Information. The reason is to perform the tasks\n        assigned to them on our behalf. However, they are obligated not to\n        disclose or use the information for any other purpose.\n      </Paragraph>\n      <SubHeader>Security</SubHeader>\n\n      <Paragraph>\n        I value your trust in providing us your Personal Information, thus we\n        are striving to use commercially acceptable means of protecting it. But\n        remember that no method of transmission over the internet, or method of\n        electronic storage is 100% secure and reliable, and I cannot guarantee\n        its absolute security.\n      </Paragraph>\n\n      <SubHeader>Links to Other Sites</SubHeader>\n      <Paragraph>\n        This Service may contain links to other sites. If you click on a\n        third-party link, you will be directed to that site. Note that these\n        external sites are not operated by me. Therefore, I strongly advise you\n        to review the Privacy Policy of these websites. I have no control over\n        and assume no responsibility for the content, privacy policies, or\n        practices of any third-party sites or services.\n      </Paragraph>\n      <SubHeader>Childrens Privacy</SubHeader>\n      <Paragraph>\n        These Services do not address anyone under the age of 13. I do not\n        knowingly collect personally identifiable information from children\n        under 13. In the case I discover that a child under 13 has provided me\n        with personal information, I immediately delete this from our servers.\n        If you are a parent or guardian and you are aware that your child has\n        provided us with personal information, please contact me so that I will\n        be able to do necessary actions.\n      </Paragraph>\n      <SubHeader>Changes to This Privacy Policy</SubHeader>\n      <Paragraph>\n        I may update our Privacy Policy from time to time. Thus, you are advised\n        to review this page periodically for any changes. I will notify you of\n        any changes by posting the new Privacy Policy on this page. These\n        changes are effective immediately after they are posted on this page.\n      </Paragraph>\n      <SubHeader>Contact Us</SubHeader>\n      <Paragraph>\n        If you have any questions or suggestions about my Privacy Policy, do not\n        hesitate to contact me at mx.bielik@gmail.com.\n      </Paragraph>\n    </PageTemplate>\n  )\n}\n","import './App.css'\n\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport { SnackbarProvider } from 'notistack'\nimport React from 'react'\n\nimport { LoadingContextProvider } from './containers/app/common/LoadingContext'\nimport ContactPage from './containers/ContactPage'\nimport CustomApolloProvider from './containers/app/providers/CustomApolloProvider'\nimport IndexPage from './containers/IndexPage'\nimport LoginPage from './containers/LoginPage'\nimport NotFoundPage from './containers/NotFoundPage'\nimport TaskDetailPage from './containers/TaskDetailPage'\nimport TasksPage from './containers/TasksPage'\nimport TermsPage from './containers/TermsPage'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <SnackbarProvider>\n        <CustomApolloProvider>\n          <LoadingContextProvider>\n            <Router basename=\"/another-tasks\">\n              <Switch>\n                <Route path=\"/\" exact component={IndexPage} />\n                <Route path=\"/login\" exact component={LoginPage} />\n                <Route path=\"/contact\" exact component={ContactPage} />\n                <Route path=\"/privacy\" exact component={TermsPage} />\n                <Route path=\"/app/\" exact component={TasksPage} />\n                <Route\n                  path=\"/app/list/:listId/task/:taskId\"\n                  component={TaskDetailPage}\n                />\n                <Route path=\"/app/list/:listId\" component={TasksPage} />\n                <Route component={NotFoundPage} />\n              </Switch>\n            </Router>\n          </LoadingContextProvider>\n        </CustomApolloProvider>\n      </SnackbarProvider>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nconst rootEl = document.getElementById('root')\nReactDOM.render(<App />, rootEl)\n","export const gapi = global.gapi\nexport const gclient = global.gapi.client\n"],"sourceRoot":""}